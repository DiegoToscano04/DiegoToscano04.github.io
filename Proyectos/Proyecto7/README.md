<p align="center">  Elaboración Proyecto 7 VM I: Stack Arithmetic </p>

<h4 align="center">  ARQUITECTURA DE COMPUTADORES A2 </h4>


<p align="center">  WEB GRUPO ALPHA:
https://diegotoscano04.github.io/  </p>
<p align="center"> <img src= "https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/4f2cd469-f8a6-482a-8f92-33960615841e"> </p>

------------

# Aprendizaje herramienta The Nand to Tetris

## Software:
###### El paquete de software Nand to Tetris contiene todas las herramientas y archivos necesarios para completar todos los proyectos descritos en este sitio y en el libro "The Elements of Computing Systems".

## Descarga:
###### Se descarga el programa Nand2Tetris de la página web: https://www.nand2tetris.org/software
###### Una vez descargados los archivos quedará una carpeta con el nombre de `nand2tetris` con 2 subcarpetas denominadas `projects` y `tools`.
![image](https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d058171f-9976-4289-bb46-fc4ff46c9729) ![image](https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/417ef519-6948-40a5-9c36-775b71ab4c82)

## Información sobre los archivos:
###### En la carpeta `projects` estarán los proyectos del 1 al 13 los cuales son archivos que deben modificarse para completar las prácticas mientras se trabaja en varios proyectos de nand2tetris.
###### En la carpeta `tools` estarán las herramientas del software nand2tetris.

## Uso del programa VM emulator 
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/32618071-ced9-417f-b99b-72187e6840d7" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d17fdb7f-66f7-462e-8e90-8cf84d066091" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2267978b-e3dd-4555-8c32-16a85fbee744" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/25035db8-6837-4a80-86d0-c3c44337f782" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/71a0d17e-160d-43f6-9535-524176c40585" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2b988c2c-0dcc-4c83-b0e6-80852b5513cc" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

## Uso del programa CPUEmulator
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/831c8911-a1a7-4444-b732-23f1aa21c92a" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/16DQsZZS9kd50JpK15QKPL8NVqf3Ic912/edit#slide=id.p9</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/bdd10740-561f-406c-9963-b4765df24ac8" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/16DQsZZS9kd50JpK15QKPL8NVqf3Ic912/edit#slide=id.p9</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/37bb2a75-791c-4cd3-8ec4-e56d0201e0d1" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/16DQsZZS9kd50JpK15QKPL8NVqf3Ic912/edit#slide=id.p9</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/11ee677d-e27b-4da1-b2aa-6d2e3442331f" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/16DQsZZS9kd50JpK15QKPL8NVqf3Ic912/edit#slide=id.p9</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/27cd3171-ab6b-4e57-9050-d429f5ae0a71" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/16DQsZZS9kd50JpK15QKPL8NVqf3Ic912/edit#slide=id.p9</p>

##### En la parte final de cada evaluación podemos corroborar con un mensaje de :`File compilation & comparison succeeded` si realizamos la actividad de manera satisfactoria.

### Desarrollo Proyecto 7:

##### En el siguiente proyecto se va a implementar la elaboración de un compilador de dos niveles, el compilador jack genera código VM para una máquina virtual, posteriormente el código VM es traducido a lenguaje de máquina usando un programa denominado traductor VM, el propósito de este proyecto es elaborar una versión temprana o básica de dicho traductor VM para posteriormente completarlo en el siguiente proyecto.

## Objetivos Generales

- Escribir un programa que lea y analice los comando de la VM.
- Debe leer un programa a la vez y generar instrucciones hack que se ejecuten en la VM.
------------

## Objetivos Específicos

- Implementar en cualquier lenguaje de programación un traductor de VM a hack.
- Hacer uso de los archivos en las carpetas `MemoryAccess` y `StackArithmetic` y de las herramientas proporsionadas por Nand2Tetris: `The CPU emulator` y `The VM emulator`para llevar a cabo las comparaciones de los archivos de test y comprobar su correcto funcionamiento.
-----------

## Pasos

1. Utilizar el traductor nuestro parcialmente implementado para traducir Xxx.vm. El resultado debería ser un archivo de texto llamado Xxx.asm, que contiene el código ensamblador Hack generado por nuestro traductor.
2. Inspeccione el código Xxx.asm generado por el traductor. Si hay errores visibles de sintaxis (o cualquier otro) error, depure y corrija su traductor.
3. Utilizar el script Xxx.tst suministrado para cargar, ejecutar y probar en el emulador de CPU, el programa Xxx.asm creado por el  traductor VM.

#### Construcción del ensamblador:

Cuando se le da al ensamblador como argumento de línea de comandos un archivo Prog.asm que contenga un programa en lenguaje ensamblador válido de programa en lenguaje, el ensamblador Hack válido debería traducirse correctamente a código binario Hack, y almacenarse en un archivo llamado Prog.hack, ubicado en la misma carpeta que el archivo fuente (si existe un archivo con este nombre, se sobrescribirá). La salida producida por su ensamblador debe ser idéntica a la salida producida por el ensamblador suministrado.

##### Entrada (Prog.asm): Un archivo de texto que contiene una secuencia de líneas, cada una de las cuales representa un comentario, una instrucción A, una instrucción C, o una declaración de etiqueta.

##### Salida (Prog.hack): un fichero de texto que contiene una secuencia de líneas, cada una de las cuales es una cadena de dieciséis caracteres de 0 y 1.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/8857f568-2aa3-47f4-8a46-0d4dc0edea42"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1uKGRMnL-gqk9DsgeN50z0EpHoSMWe6F5/view</p>

##### Inicializar: Al abrir el archivo de entrada (Prog.asm) se prepara para procesarlo y construye una tabla de símbolos y le añade todos los símbolos predefinidos

##### First Pass: Lee las líneas del programa, una a una, centrándose sólo en las declaraciones (de etiquetas). Añade las etiquetas encontradas a la tabla de símbolos

##### Second Pass (bucle principal): (comienza de nuevo desde el principio del fichero) Mientras haya más líneas que procesar: Obtiene la siguiente instrucción, y la analiza si la instrucción es @ símbolo, si el símbolo no está en la tabla de símbolos, lo añade a la tabla y traduce el símbolo a su valor binario.

##### Si la instrucción es dest =comp ; jump traduce cada uno de los tres campos a su valor binario y ensambla los valores binarios descritos anteriormente en una cadena de dieciséis 0's y 1's escribiendo la cadena en el fichero de salida.

#### Arquitectura del ensamblador:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/83f1dce3-734d-47c8-b979-92066f2d6adb"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1uKGRMnL-gqk9DsgeN50z0EpHoSMWe6F5/view</p>

#### Contrucción SymbolTable:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/5b519b34-166b-4081-b622-aecf3ece8bfb"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

#### Construcción Code:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/83f77ef3-a53a-4b8f-9c1c-8e3930f0f4ff"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1uKGRMnL-gqk9DsgeN50z0EpHoSMWe6F5/view</p>

### COMP:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/4fc0734a-ac30-4309-9e4a-edec737fff16"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### DEST:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/08ffc2db-bb59-45df-a242-e3c6748c3b96"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### JUMP:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/5b96279b-abec-4858-a584-0b34f5431d8c"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

#### Construcción Parser:

### variableSpot:

<p align="center"><img src="!https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/8d7e63cb-2beb-478e-bc76-d8ec304761d4"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### First pass: 

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/da9496ee-dbe2-4f8b-a385-4bf2e787404f"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Second pass:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d6d4539e-6875-4774-82e7-1fb67f96da59"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### strip:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/82c665c4-20b1-4e8d-aaef-b7bfa0a3052c"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### fullFill

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/dd39382a-d018-48f7-9f3a-7175018f838e"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Documentos a evaluar:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/60fe06e9-2104-4dd9-bae3-b3ae31208b6c"/></p>
<p align="center">Fuente: Propiedad de los autores</p>


## Pruebas de funcionamiento:

Al ejecutar nuestro ensamblador realizado en phyton nos arroja los archivos `xxx.hack` de cada uno de los ficheros a convertir

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/dd8dae90-cb7d-4704-9a05-792e24f39bac"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

Procedemos a realizar la prueba para cada uno de los archivos con la extensión `xxx.hack` para comprobar su correcto funcionamiento.

<h3 align="center">Add.asm</h3>

#### Convertimos el archivo `Add.asm` a `Add.hack` por medio de nuestro ensamblador y lo comparamos a través de la herramienta Assembler (2.5) con el archivo fuente `Add.asm` que nos provee el proyecto 6.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/bc69f10f-f67e-4333-b129-a1b345873561" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Corroboramos que la conversión de código escrito en lenguaje de máquina simbólico a código escrito en lenguaje de máquina binario es correcta.



-------------------
#### Pregunta
¿?<br>



