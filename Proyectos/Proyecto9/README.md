<p align="center">  Elaboración Proyecto 9: High-Level Language </p>

<h4 align="center">  ARQUITECTURA DE COMPUTADORES A2 </h4>


<p align="center">  WEB GRUPO ALPHA:
https://diegotoscano04.github.io/  </p>
<p align="center"> <img src= "https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/4f2cd469-f8a6-482a-8f92-33960615841e"> </p>

------------

# Aprendizaje herramienta The Nand to Tetris

## Software:
###### El paquete de software Nand to Tetris contiene todas las herramientas y archivos necesarios para completar todos los proyectos descritos en este sitio y en el libro "The Elements of Computing Systems".

## Descarga:
###### Se descarga el programa Nand2Tetris de la página web: https://www.nand2tetris.org/software
###### Una vez descargados los archivos quedará una carpeta con el nombre de `nand2tetris` con 2 subcarpetas denominadas `projects` y `tools`.
![image](https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d058171f-9976-4289-bb46-fc4ff46c9729) ![image](https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/417ef519-6948-40a5-9c36-775b71ab4c82)

## Información sobre los archivos:
###### En la carpeta `projects` estarán los proyectos del 1 al 13 los cuales son archivos que deben modificarse para completar las prácticas mientras se trabaja en varios proyectos de nand2tetris.
###### En la carpeta `tools` estarán las herramientas del software nand2tetris.

## Uso del programa VM emulator 
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/32618071-ced9-417f-b99b-72187e6840d7" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d17fdb7f-66f7-462e-8e90-8cf84d066091" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2267978b-e3dd-4555-8c32-16a85fbee744" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/25035db8-6837-4a80-86d0-c3c44337f782" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/71a0d17e-160d-43f6-9535-524176c40585" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2b988c2c-0dcc-4c83-b0e6-80852b5513cc" width="500" height="300" /></p>
<p align="center">Fuente: https://docs.google.com/presentation/d/1D7zmC6RfaR2GDG385M1pv80Q3UR4PsdC/edit?pli=1#slide=id.p8</p>

## Uso del programa JackCompiler
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d45a89fd-bc46-4aa6-ac26-a1276b790a95" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Se copian los archivos a usar para pasarlos a la carpeta donde está el programa JackCompiler:
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/58ab0457-d3e5-41d6-9c7d-10a3d02ed46c" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Se accede al Simbolo de sistema para ejecutar el JackCompiler y hacer que conveirta los archivos `.jack` a `.VM`.
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/ee2341b8-f697-4f52-a9b1-60283d660dd8"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

Posterior a esto se ejecuta el programa VMEmulator para correr los archivos y mostrar el programa elaborado
<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/f1e8d34a-e512-446a-902e-e9d3aa365001" width="500" height="300" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Desarrollo Proyecto 9:

##### En este proyecto se implementará un programa en Jack: Un lenguaje de programación simple, similar a Java, basado en objetos.

## Objetivos Generales

- El objetivo de este proyecto es familiarizarse con el uso del lenguaje jack.

------------

## Objetivos Específicos

- Inventar o asimilar un juego de ordenador sencillo o algún otro programa interactivo, e impleméntelo en el lenguaje Jack. Algunos ejemplos son versiones básicas de Tetris, Snake, Space Invaders, Sokoban, Pong, o juegos más sencillos como el Ahorcado.
-----------

## Pasos para crear un programa en Jack.

0. Crea una carpeta para tu programa. Llamémosla carpeta del programa.
1. Escriba su programa Jack - un conjunto de una o más clases Jack - cada una almacenada en un archivo de texto separado `className.jack`. Mantenga todos estos archivos .jack en la misma carpeta de programa.
2. Compile la carpeta del programa utilizando el compilador Jack suministrado. Esto hará que el compilador compile todas las clases .jack encontradas en la carpeta a los correspondientes archivos .vm, almacenados en la misma carpeta. Si se informa de un error de compilación, depure el programa y vuelva a compilar hasta que no se emita mensajes de error.
3. En este punto, la carpeta del programa debe contener los archivos .jack de origen, junto con los archivos .vm compilados. Para probar el programa compilado, cargue la carpeta del programa en el emulador VM suministrado. A continuación, ejecute el programa en el emulador VM. Si encuentra errores de ejecución o un comportamiento no deseado del programa, corrija el programa y pase a la etapa 2.

#### El Jack OS

Escribir programas Jack requiere trabajar con el sistema operativo Jack, al igual que escribir programas Java requiere trabajar con la biblioteca de clases Java. El SO Jack es un conjunto de librerías que extienden las capacidades del lenguaje básico y cierran las brechas entre éste y el hardware subyacente. Aquí está la API del SO Jack https://www.nand2tetris.org/_files/ugd/44046b_a89c06efcef3491cafb42fb76cc95dc0.pdf, y la lista de códigos de error del SO https://www.nand2tetris.org/_files/ugd/44046b_907fb326cbcb4851b93c21f79d515180.pdf y su significado.
Suministramos dos implementaciones de Jack OS: "nativo", y "builtin". La implementación nativa del SO fue escrita en Jack y luego traducida (usando un compilador Jack) al conjunto de ocho archivos VM almacenados en la carpeta nand2tetris/tools/os. La implementación del sistema operativo incorporado se escribió en Java, y está incrustada en el emulador VM disponible en `nand2tetris/tools`.

#### Recursos para la práctica:

- Herramientas `tools/JackCompiler`, para traducir tu programa a un conjunto de archivos .vm, y  `tools/VMEmulator`, para ejecutar y probar el código compilado.
- La carpeta `projects/09/Square` incluye el código fuente de un programa completo, de 3 clases interactivas. Este programa ilustra varias técnicas de programación que comúnmente son utilizadas en el diseño de aplicaciones que combinan gráficos, animación e interacción con el usuario.


#### Operaciones básicas:

##### push: añade un elemento en la parte superior de la pila
##### pop: elimina el elemento superior

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/000f3b63-342e-4103-a7b6-f1fbff71953a"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/28ddc899-15cf-4458-b3dd-e11b77a4cea1"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/a215b153-af67-4c6b-ba05-26f5cca17d04"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/e48e8121-f484-4250-85b7-e3afff6436b3"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>


##### Cuando el compilador compila un método de alto nivel, representa:

1. Las variables locales del método en el segmento virtual local
2. Los argumentos del método en el segmento virtual argument
3. Los campos del objeto actual en el segmento virtual this
4. Los elementos del array actual en el segmento virtual that

##### Variables Estáticas:

Un programa Jack es una colección de una o más clases Jack
- Cada clase es una unidad de compilación independiente
- Cada archivo de clase Foo.jack se compila en un archivo VM llamado Foo.vm
- El compilador asigna las variables estáticas a nivel de clase de todas las clases en un segmento VM llamado static

##### Segmento estático:

El segmento estático se almacena en un bloque de RAM fijo, comenzando en la dirección 16; al traducir un archivo VM llamado Foo.vm: Para push/pop static i,, genera código ensamblador que ejecute push/pop Foo.i.

Posteriormente, el ensamblador Hack asignará cada símbolo Foo.i en el código ensamblador generado en RAM[16], RAM[17], ..., RAM[255].

##### Objects and arrays

1. Los objetos y matrices que manipulan los programas se almacenan en la RAM
2. Los campos del objeto actual están representados por el segmento this
3. Los elementos del array actual están representados por el segmento that
4. Las direcciones base de this y that se almacenan en los punteros THIS y THAT así como en los punteros 0 y 1 (un segmento de dos posiciones)

Para push/pop puntero 0, genera un código ensamblador que ejecute: push/pop THIS
Para push/pop puntero 1, genera un código ensamblador que ejecute: push/pop THAT

##### Abstracción

Cada comando aritmético/lógico extrae uno o dos valores de la pila, calcula una de estas funciones sobre estos valores y coloca el valor calculado en la pila.

#### implementación VM

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/ac2c987e-4e9f-4d48-a09a-39bae3782c84"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

#### Emulando un programa VM:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/784045bd-10ba-4663-ad42-9d7221d78985"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

#### Test de un programa VM:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2918f48c-cbb7-4fcd-98bb-f69edd5d5786"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

##### Recopilación de programas:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/eae954ba-77fe-4cd1-8b18-12d87cc5a952"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BPmhMLu_4QTcte0I5bK4QBHI8SACnQSt/view</p>

##### Traductor VM funcionamiento:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/3bcadd8b-7868-4609-a514-33c24b27e2ac"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BexrNmdqYhKPkqD_Y81qNAUeyfzl-ZtO/view</p>

##### Compilación:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/71520023-e571-4a63-bf1f-268d04eab618"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BexrNmdqYhKPkqD_Y81qNAUeyfzl-ZtO/view</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/f67570a0-e661-45b4-9970-643f1b27a691"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BexrNmdqYhKPkqD_Y81qNAUeyfzl-ZtO/view</p>


##### Diseño propuesto:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d3665b92-0e64-46ce-9b2e-e295a6608edf"/></p>
<p align="center">Fuente: https://drive.google.com/file/d/1BexrNmdqYhKPkqD_Y81qNAUeyfzl-ZtO/view</p>

##### Después de completar el proceso de traducción de los archivos .vm mediante la herramienta VM Translator y obtener así un archivo de texto que alberga el código ensamblador de hack en formato .asm, el siguiente paso crucial radica en verificar la precisión del traductor. Para ello, se requiere emplear los archivos adjuntos .tst y .cmp. Estos archivos desempeñan un papel fundamental al permitir la ejecución del programa convertido en el emulador de CPU proporcionado. Esta verificación no solo garantiza la correcta generación del código máquina esperado, sino que también valida la exactitud y coherencia del proceso de traducción. Es un paso esencial para asegurar que el código traducido funcione de manera óptima en el entorno de la arquitectura Hack.

#### Contrucción Type:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/bf70352f-89d3-4d73-a093-470ccaa7eec0"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

Devuelve una constante que representa el tipo del comando actual. Si el comando actual es un comando aritmético-lógico, devuelve C_ARITHMETIC.

#### arg1

Devuelve el primer argumento del comando actual. En el caso de C_ARITHMETIC, se devuelve el propio comando (add,sub,etc.)
No debe llamarse si el comando actual es C_RETURN.

#### arg2

Devuelve el segundo argumento del comando actual, sólo debe invocarse si el comando actual es C_PUSH, CPOP, C FUNCTION o C_CALL.

#### Construcción BOOLEANS:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/ce669449-e560-4787-a459-0f478949247f"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

#### Implementación Push/Pop

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/9c785eb5-c273-4cbe-926c-174129c1f983"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

#### Construcción Análisis/Inicialización:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/93394338-d2e8-43c1-8d47-0a0bf6090165"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### First Parse: 

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/2d383c7f-576d-48c4-8ad9-dd4a34d74034"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### strip:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/ad5bec39-7b02-4e2b-915b-9355ed679284"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Parse

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d643d63c-a11f-47ba-917a-281d06cf1211"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### CommandType:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/f237709e-8b81-433e-b5a0-860c8b33f261"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Arithmetic:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/b29a8f69-f8ed-465e-ba77-f8f6b6c3e8f9"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### SP,pop stack, push stack, pop stack and push Pop:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/396e1f91-12ce-4293-b3be-918cdd9cafba"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Address:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/87deb1f7-44f6-45f0-992e-6d1d922fef7e"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Label, goto, write if

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/e2ffb4eb-f11d-4bdf-963e-65b7ffe3934b"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Write function

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/1da8551d-5176-43d1-a975-a4974a4f7410"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Write call

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/4558702c-2ca5-4969-92b0-32b875074561"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Write return

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/e4b8e4e8-edaa-414d-800a-2505796c4711"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

### Documentos a evaluar:

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/bc73f583-05dc-4ebb-af16-ac2249c0ce4f"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/e5ea7726-6ace-490f-ae3b-68847e81d90e"/></p>
<p align="center">Fuente: Propiedad de los autores</p>

## Pruebas de funcionamiento:

Procedemos a corroborar la precisión del traductor, para esto hacemos uso de los archivos `xxx.tst` y  `xxx.cmp`.

<h3 align="center">BasicLoop.asm</h3>

#### Descripción: Calcula la suma de 1 a n y verifica los comandos de bifurcación 'goto' e 'if-goto'.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/976af9c3-4fcd-4028-8c99-74ce3ac778d4" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: BasicLoopVME.tst / Verifica BasicLoop.tst y BasicLoop.cmp.


-----------------------------

<h3 align="center">FibonacciSeries.asm</h3>

#### Descripción: Calcula y almacena los primeros n elementos de la serie de Fibonacci, desafiando las bifurcaciones de la máquina virtual.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/566e9602-2c3c-4625-a083-295f529bd86b" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: FibonacciSeriesVME.tst / Comprueba FibonacciSeries.tst y FibonacciSeries.cmp.


---------------------------------


<h3 align="center">SimpleFunction.asm</h3>

#### Descripción: Realiza un cálculo simple y prueba la ejecución de funciones y comandos de retorno de la máquina virtual.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/7ca36191-1250-45d6-a617-2244d48bbe9e" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: SimpleFunctionVME.tst / Verifica SimpleFunction.tst y SimpleFunction.cmp.


-----------------------------------


<h3 align="center">NestedCall.asm</h3>

#### Descripción: Prueba los comandos de llamada y retorno de funciones, opcional pero útil tras pasar SimpleFunction y antes de FibonacciElement.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/d8a53756-39dd-4ed1-a136-a43c86e80300" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: NestedCallVME.tst / Confirma NestedCall.tst y NestedCall.cmp.


----------------------------

<h3 align="center">FibonacciElement.asm</h3>

#### Descripción: Descripción: Evalúa el control de llamada a funciones, el código de arranque y otros comandos de la máquina virtual. Contiene Main.fibonacci y Sys.init.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/e22fd07a-993d-4770-b61f-bcf3e471eb67" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: FibonacciElementVME.tst / Comprueba FibonacciElement.tst y FibonacciElement.cmp.


----------------------------------


<h3 align="center">StaticsTest.asm</h3>

#### Descripción: Descripción: Contiene funciones para establecer y obtener valores estáticos, probando el manejo de memoria estática.

<p align="center"><img src="https://github.com/DiegoToscano04/DiegoToscano04.github.io/assets/129452906/64558ec8-6076-4dd9-a25d-52f9e4de7f97" width="500" height="450" /></p>
<p align="center">Fuente: Propiedad de los autores</p>

Scripts de prueba: StaticsTestVME.tst / Verifica StaticsTest.tst y StaticsTest.cmp.










